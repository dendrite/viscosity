<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:sg="http://www.stuartgunter.org/schema/spring"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/util
       http://www.springframework.org/schema/util/spring-util-3.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-3.0.xsd
       http://www.stuartgunter.org/schema/spring http://www.stuartgunter.org/schema/spring/spring.xsd">

    <context:property-placeholder location="META-INF/glia-server.properties"/>

    <import resource="glia-interface-map.xml" />

    <bean id="serverPayloadProcessor" class="com.reversemind.glia.server.GliaPayloadProcessor">
        <property name="pojoMap" ref="pojoMap"/>
        <property name="ejbMap" ref="ejbMap"/>
        <property name="jndiEnvironment">
            <props>
                <prop key="java.naming.provider.url">remote://localhost:4447</prop>
                <prop key="java.naming.factory.url.pkgs">org.jboss.ejb.client.naming</prop>
                <prop key="java.naming.factory.initial">org.jboss.naming.remote.client.InitialContextFactory</prop>

                <prop key="jboss.naming.client.ejb.context">true</prop>

                <prop key="remote.connections">default</prop>

                <prop key="remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED">false</prop>
                <prop key="remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS">false</prop>

                <!--<prop key="java.naming.security.principal">kalinin</prop>-->
                <!--<prop key="java.naming.security.credentials">Rtls1q2w4e</prop>-->
                <!--<prop key="remote.connection.default.host">localhost</prop>-->
                <!--<prop key="remote.connection.default.port">4447</prop>-->
            </props>
        </property>
    </bean>



    <bean id="gliaFactory" class="com.reversemind.glia.server.GliaServerFactory" />


    <!--<bean id="gliaBuilder" class="com.reversemind.glia.server.GliaServerFactory.Builder" >-->
        <!--<constructor-arg value="SIMPLE"/>-->
        <!--<property name="port" value="12534"/>-->
    <!--</bean>-->


    <!--<sg:builder-factory id="gliaBuilder2"-->
                        <!--builder-class="com.reversemind.glia.server.GliaServerFactory.Builder"-->
                        <!--build-method="build">-->
        <!--<sg:with name="port" value="2012"/>-->
    <!--</sg:builder-factory>-->

    <!--<bean id="gliaServer" class="com.reversemind.glia.server.GliaServer">-->
        <!--<constructor-arg type="int" value="${glia.server.port}"/>-->
        <!--<constructor-arg type="boolean" value="${drop.client.connection}"/>-->
        <!--<constructor-arg type="com.reversemind.glia.server.IGliaPayloadProcessor" ref="serverPayloadProcessor"/>-->
    <!--</bean>-->

</beans>